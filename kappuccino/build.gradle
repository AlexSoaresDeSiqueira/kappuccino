apply plugin: 'com.android.library'
apply from: "$rootDir/tools/publish.gradle"
apply plugin: 'kotlin-android'

android {
  compileSdkVersion rootProject.ext.compileSdkVersion
  buildToolsVersion rootProject.ext.buildToolsVersion

  defaultConfig {
    minSdkVersion rootProject.ext.minSdkVersion
    targetSdkVersion rootProject.ext.targetSdkVersion
    versionCode rootProject.ext.versionCode
    versionName rootProject.ext.versionName

    testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
  }
  buildTypes {
    debug {
      testCoverageEnabled true
    }

    release {}
  }

  sourceSets { main { java.srcDirs = ['src/main/kotlin'] } }
}

final kotlinVersion = '1.1.1'
final espressoVersion = '2.2.2'
final supportLibraryVersion = '25.2.0'

dependencies {

  compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
  compile "org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion"

  compile "com.android.support.test.espresso:espresso-core:$espressoVersion"
  compile "com.android.support.test.espresso:espresso-intents:$espressoVersion"
  compile "com.android.support.test.espresso:espresso-contrib:$espressoVersion"
  compile "com.android.support:support-annotations:$supportLibraryVersion"
  compile "com.android.support:support-v4:$supportLibraryVersion"
  compile "com.android.support:appcompat-v7:$supportLibraryVersion"
  compile "com.android.support:design:$supportLibraryVersion"
  compile "com.android.support:recyclerview-v7:$supportLibraryVersion"
  compile "com.android.support.test.uiautomator:uiautomator-v18:2.1.2"
}

